# 应用图标生成器开发计划

## 项目概述
创建一个网页应用程序，用于生成自定义应用图标，支持实时预览、参数调整和导出功能。

## 技术栈选择（快速开发）
- **框架**: React + Vite（快速构建和热更新）
- **UI库**: TailwindCSS（快速样式开发）
- **图标**: 内置SVG图标库 + 支持上传自定义SVG
- **导出**: html2canvas（PNG导出）+ JSZip（批量导出）
- **状态管理**: React useState/useReducer（简单直接）

## 核心功能模块

### 1. 图标画布组件（IconCanvas）
**文件**: `src/components/IconCanvas.jsx`
- 渲染圆角正方形容器
- 支持自定义尺寸（128x128, 96x96等）
- 可配置圆角半径（10-15px）
- 背景色填充（高饱和度纯色）
- 内部SVG图标居中显示，可调整大小比例（60%-80%）
- 图标颜色可自定义（默认白色）

### 2. 控制面板组件（ControlPanel）
**文件**: `src/components/ControlPanel.jsx`

子组件：
- **尺寸选择器**（SizeSelector）: 预设尺寸 + 自定义输入
- **圆角配置**（CornerRadiusSlider）: 滑块调整圆角半径
- **颜色选择器**（ColorPicker）: 预设色板 + Hex/RGB输入
- **图标选择器**（IconSelector）: 内置图标库 + 上传SVG
- **图标样式配置**（IconStyleConfig）: 颜色、大小比例
- **文字标签配置**（TextLabelConfig）: 名称、字体、字号、颜色、对齐

### 3. 预览区域（PreviewArea）
**文件**: `src/components/PreviewArea.jsx`
- 实时显示图标效果
- 支持放大预览
- 显示文字标签（仅预览，导出时不包含）

### 4. 导出功能（ExportModule）
**文件**: `src/utils/export.js`
- 单个导出：PNG（透明背景）、SVG
- 批量导出：ZIP打包
- 导出时排除文字标签

### 5. 内置图标库
**文件**: `src/assets/icons/`
- 日历图标（calendar.svg）
- 收集表图标（table.svg）
- 下载图标（download.svg）
- 消息图标（message.svg）
- 培训图标（training.svg）
- 其他常用图标（10-15个）

### 6. 撤销/重做功能
**文件**: `src/hooks/useHistory.js`
- 实现状态历史管理
- 支持撤销/重做操作

## 项目结构
```
vibe_icon/
├── index.html
├── package.json
├── vite.config.js
├── tailwind.config.js
├── src/
│   ├── main.jsx
│   ├── App.jsx
│   ├── components/
│   │   ├── IconCanvas.jsx
│   │   ├── ControlPanel.jsx
│   │   ├── PreviewArea.jsx
│   │   ├── SizeSelector.jsx
│   │   ├── ColorPicker.jsx
│   │   ├── IconSelector.jsx
│   │   └── TextLabelConfig.jsx
│   ├── hooks/
│   │   └── useHistory.js
│   ├── utils/
│   │   └── export.js
│   ├── assets/
│   │   └── icons/
│   │       ├── calendar.svg
│   │       ├── table.svg
│   │       └── ...
│   └── styles/
│       └── index.css
└── public/
```

## 实现步骤

### Step 1: 项目初始化
- 使用 Vite 创建 React 项目
- 配置 TailwindCSS
- 安装依赖: html2canvas, jszip, file-saver

### Step 2: 核心画布组件
- 创建 IconCanvas 组件
- 实现圆角正方形容器
- 实现SVG图标渲染和居中
- 实现背景色填充

### Step 3: 控制面板
- 创建各个配置子组件
- 实现参数双向绑定
- 添加预设颜色色板
- 创建内置图标选择界面

### Step 4: 实时预览
- 连接控制面板与画布组件
- 实现参数变化时的实时更新
- 添加预览放大功能

### Step 5: 图标库
- 准备10-15个常用SVG图标
- 实现SVG上传功能
- 图标预览缩略图

### Step 6: 文字标签
- 添加文字标签渲染（仅在预览区）
- 实现字体、字号、颜色配置
- 超长文本省略处理

### Step 7: 导出功能
- 实现PNG导出（排除文字标签）
- 实现SVG导出
- 实现批量ZIP打包

### Step 8: 撤销/重做
- 实现历史状态管理
- 添加撤销/重做按钮

### Step 9: 响应式优化
- 适配移动端和桌面端
- 优化布局和交互

### Step 10: 测试和优化
- 测试所有功能
- 性能优化
- UI细节调整

## 关键技术要点

### 1. SVG图标处理
```jsx
// 动态改变SVG颜色
<svg style={{ fill: iconColor }} />
```

### 2. 导出时排除文字标签
```js
// 使用两个canvas，一个用于预览（含文字），一个用于导出（不含文字）
```

### 3. 圆角正方形实现
```css
border-radius: {radius}px;
```

### 4. 实时预览
```jsx
// 使用 React state，参数变化立即触发重渲染
```

## 验证计划

### 功能测试
1. **图标生成测试**
   - 选择不同尺寸（128x128, 96x96, 自定义）
   - 调整圆角半径（10-15px）
   - 选择不同背景色（预设色 + 自定义Hex/RGB）
   - 选择内置图标并调整颜色和大小
   - 上传自定义SVG图标

2. **文字标签测试**
   - 输入不同长度的文字
   - 测试超长文本省略
   - 调整字号和颜色

3. **导出功能测试**
   - 导出PNG（验证透明背景和无文字标签）
   - 导出SVG
   - 批量导出多个图标为ZIP

4. **交互测试**
   - 实时预览是否即时响应
   - 撤销/重做功能
   - 放大预览细节

5. **响应式测试**
   - 在不同屏幕尺寸下测试布局

### 性能验证
- 参数调整时的渲染性能
- 批量导出速度

## 开发优先级
**P0（核心功能）**:
- 图标画布组件
- 基础控制面板（尺寸、颜色、图标）
- 实时预览
- PNG导出

**P1（重要功能）**:
- 内置图标库
- 文字标签
- SVG导出
- 自定义SVG上传

**P2（增强功能）**:
- 撤销/重做
- 批量导出
- 放大预览
- 响应式优化
